{
    "level": "paragraph",
    "abstract": [
        {
            "text": "We discuss the track based alignment of the inner detector of the ATLAS experiment. After describing the main alignment method based on the minimization of hit residuals, we focus on alignment methods using information from the electromagnetic calorimeter as well as information obtained from physics quantities such as the invariant mass of the J/\u03a8-resonance. We present an overview of the current performance of the ATLAS inner detector and conclude with some general remarks summarizing the experience of the commissioning of the detector from the alignment point of view.",
            "paragraph_rank": 0,
            "section_rank": 1
        }
    ],
    "body_text": [
        {
            "text": "Introduction",
            "section_rank": 2
        },
        {
            "section": "Introduction",
            "text": "The knowledge of the position of sensitive detector elements is crucial for the exploitation of tracking devices. The most precise way to determine this information is by using a track-based alignment algorithm. These algorithms minimize the distance between hits and the corresponding reconstructed track. In this paper, we describe the alignment of the Inner Detector (ID) of the ATLAS experiment [1], one of the two multi-purpose experiments at the Large Hadron Collider (LHC) at CERN, Geneva. Special emphasis is put on methods to improve the tracking performance using methods beyond the classical residual minimization. Fig. 1 shows the ID of the ATLAS experiment. It consists of three sub-detectors: a pixel detector (Pixels), a silicon strip detector (SCT) and a detector based on drift tubes (TRT). The Pixel and SCT detectors are based on silicon technology and provide very good position resolution below 10 \u00b5m in the Pixel barrel part.",
            "paragraph_rank": 1,
            "section_rank": 2,
            "ref_spans": [
                {
                    "type": "bibr",
                    "ref_id": "b0",
                    "start": 399,
                    "text": "[1]",
                    "end": 402
                },
                {
                    "type": "figure",
                    "ref_id": "fig_0",
                    "start": 626,
                    "text": "Fig. 1",
                    "end": 632
                }
            ]
        },
        {
            "section": "Introduction",
            "text": "To achieve its physics goals, the ATLAS collaboration requires that the resolution of track parameters are degraded by at most 20% due to misalignments. The track parameters affected most are the transverse impact parameter d 0 and the transverse momentum p T , leading to an alignment precision in the most sensitive coordinate in the R\u03c6 -plane of 7 \u00b5m for the Pixels and 12 \u00b5m for the SCT [2]. ",
            "paragraph_rank": 2,
            "section_rank": 2,
            "ref_spans": [
                {
                    "type": "bibr",
                    "ref_id": "b1",
                    "start": 391,
                    "text": "[2]",
                    "end": 394
                }
            ]
        },
        {
            "text": "The ATLAS ID track-based alignment algorithm",
            "section_rank": 3
        },
        {
            "section": "The ATLAS ID track-based alignment algorithm",
            "text": "The main idea of the track-based alignment consists in the minimization of hit residuals with respect to the corresponding reconstructed tracks. The contribution from hits on all selected tracks are accumulated in a single \u03c7 2 0 -value, which is then minimized with respect to the alignment parameters [3]. The \u03c7 2 0 can be written as",
            "paragraph_rank": 3,
            "section_rank": 3,
            "ref_spans": [
                {
                    "type": "bibr",
                    "ref_id": "b2",
                    "start": 302,
                    "text": "[3]",
                    "end": 305
                }
            ]
        },
        {
            "section": "The ATLAS ID track-based alignment algorithm",
            "text": "with the sum running over all tracks, r( a, \u03c0) being the hit residuals being dependent on the alignment parameters a as well as the track parameters \u03c0, and V being the the covariance matrix. Correlations between the different detector elements (between modules as well as between sub-detectors) are taken into account by using the track parameter dependence of the hit residuals, leading to a nested dependence of the derivative:",
            "paragraph_rank": 4,
            "section_rank": 3
        },
        {
            "section": "The ATLAS ID track-based alignment algorithm",
            "text": "The \u03c7 2 0 is then taylor-developed around the actual alignment position in order to estimate the minimal \u03c7 2 -value. The calculation returns a which represents the required detector movement in order to bring the overall \u03c7 2 to its minimum. This requirement is necessary but not sufficient to solve the alignment problem. The solution could return a local \u03c7 2 -value only because of only weakly determined movements, the so called weak modes. This alignment step is repeated several times following the hierarchical structure of the detector. First the large structures, like the barrel with respect to the end caps are aligned. At the very end all individual modules are aligned. It should be also not noted, that not all degrees of freedom are aligned for all individual alignment steps. For the track based alignment we use tracks with two different topologies: tracks with high momentum originating from the interaction point  as well as tracks reconstructed from cosmic ray showers. The residual distribution obtained after this alignment step almost matches the expected distribution obtained from simulated events with perfect geometry, as shown in Figure 2  [4].",
            "paragraph_rank": 5,
            "section_rank": 3,
            "ref_spans": [
                {
                    "type": "figure",
                    "ref_id": "fig_1",
                    "start": 1156,
                    "text": "Figure 2",
                    "end": 1164
                },
                {
                    "type": "bibr",
                    "ref_id": "b3",
                    "start": 1166,
                    "text": "[4]",
                    "end": 1169
                }
            ]
        },
        {
            "text": "External alignment constraints",
            "section_rank": 4
        },
        {
            "section": "External alignment constraints",
            "text": "Besides the minimization of hit residuals, we use additional information to improve the knowledge of the detector position. During the first year of data taking, the main focus was put on improving the understanding of the systematic biases on the momentum measurement. For this we use the dependence of the invariant mass on the azimuthal angle \u03c6 1 as well as the E/p information obtained from a comparison of the ID momentum measurement with the electromagnetic calorimeter energy measurement.",
            "paragraph_rank": 6,
            "section_rank": 4
        },
        {
            "text": "Tilt of the solenoidal field with respect of the ID",
            "section_rank": 5
        },
        {
            "section": "Tilt of the solenoidal field with respect of the ID",
            "text": "The track-based alignment of the ID provides only an internally consistent alignment. Six degrees of freedom, representing the overall position of the detector in space cannot be determined. After the production of the first set of alignment constants, using tracks from cosmic rays only, it was decided to maintain the overall position of the ID. We require the \u03c7 2 of all distances between the module position from the previous set of alignment constant and the newly determined set of alignment constants to be minimal. The beam-spot position is preserved by requiring for all sets of alignment constants the tracks to originate in the transverse plane from the previously determined beamspot.",
            "paragraph_rank": 7,
            "section_rank": 5
        },
        {
            "section": "Tilt of the solenoidal field with respect of the ID",
            "text": "The first set of alignment constants did not take any information from the solenoidal field into account. The direction of the magnetic field with respect to the ID is only correct within the placement precision of the ID within the cryostat containing the solenoid. However, the direction  of the magnetic field is crucial for the measurement of the track momentum and a rotation of the ID with respect to the origin will lead to distorted measurements of the transverse momentum p T . Due to the larger lever-arm, a misalignment will be most prominent in the end-caps of the detector.",
            "paragraph_rank": 8,
            "section_rank": 5
        },
        {
            "section": "Tilt of the solenoidal field with respect of the ID",
            "text": "To quantify this systematic effect and in order to correct for this we measure the invariant mass of the J/\u03c8-resonance as a function of the azimuthal angle \u03c6 in the two end-cap regions of the detector. A clear \u03c6 -dependence of the invariant J/\u03c8-mass is visible in both end-caps, originating from the tilt of the magnetic field. This distortion can be explained by a rotation of the ID around the x-axis by 55 mrad. The impact of this rotation is shown in Fig. 3. The strong \u03c6 -dependence of the invariant J/\u03c8-mass almost disappeared after the rotation correction.",
            "paragraph_rank": 9,
            "section_rank": 5,
            "ref_spans": [
                {
                    "type": "figure",
                    "ref_id": "fig_3",
                    "start": 455,
                    "text": "Fig. 3",
                    "end": 461
                }
            ]
        },
        {
            "text": "Improved momentum scale using information from the electromagnetic calorimeter",
            "section_rank": 6
        },
        {
            "section": "Improved momentum scale using information from the electromagnetic calorimeter",
            "text": "To further improve the momentum measurement, the electron energy measurement in the electromagnetic calorimeter can be used in the alignment procedure [5]. The sagitta distortion 2 leads to a charge asymmetric bias in the measurements which can be generically expressed by:",
            "paragraph_rank": 10,
            "section_rank": 6,
            "ref_spans": [
                {
                    "type": "bibr",
                    "ref_id": "b4",
                    "start": 151,
                    "text": "[5]",
                    "end": 154
                }
            ]
        },
        {
            "section": "Improved momentum scale using information from the electromagnetic calorimeter",
            "text": "where \u03b4 describes the local sagitta bias parameter and Q the particle charge. In order to determine the sagitta bias we use the fact that the energy response of the electromagnetic calorimeter to electrons and positrons is independent of the charge. The scaling factor \u03b4 can be determined from the average ratio < E/p > measured for electrons and positrons:  ",
            "paragraph_rank": 11,
            "section_rank": 6
        },
        {
            "section": "Improved momentum scale using information from the electromagnetic calorimeter",
            "text": "where < > indicates an average over all measurements. By requesting the average ratio to be identical for negatively and positively charged tracks the scaling factor \u03b4 is determined. The improved performance of the ID using reconstructed tracks is demonstrated using a measurement of the width of the invariant mass of the Z-boson, obtained with a set of alignment constants biased to return identical E p -response for e + and e \u2212 , is shown in Fig. 4. The width of the Z-boson measured with tracks reconstructed in the barrel region of the Inner Detector decreases from 1.87 \u00b1 0.02 GeV/c 2 (Spring 2011) to 1.75 \u00b1 0.02 GeV/c 2 (Summer 2011), compared to 1.60 \u00b1 0.01 GeV/c 2 obtained with simulated events.",
            "paragraph_rank": 12,
            "section_rank": 6,
            "ref_spans": [
                {
                    "type": "figure",
                    "ref_id": "fig_5",
                    "start": 446,
                    "text": "Fig. 4",
                    "end": 452
                }
            ]
        },
        {
            "text": "Measurement of the impact parameter",
            "section_rank": 7
        },
        {
            "section": "Measurement of the impact parameter",
            "text": "During the alignment procedure all tracks used in Eq. 2.1 are constrained to originate from the beam-spot region. This corresponds to the track impact parameter (d 0 ) distribution being centered around zero. However, a measurement of the impact parameter as a function of \u03c6 and \u03b7 returned in some regions systematic biases in d 0 of up to 10 \u00b5m. This distorted measurement might lead to some systematic uncertainties in the measurement of the lifetime-dependent measurements, such as the measurement of the B-meson lifetime or tagging of B-hadrons using impact parameter based observables.",
            "paragraph_rank": 13,
            "section_rank": 7
        },
        {
            "text": "Time dependence of the ATLAS ID alignment",
            "section_rank": 8
        },
        {
            "section": "Time dependence of the ATLAS ID alignment",
            "text": "Currently one set of alignment constants is used for the complete 2011 datataking period. Based on this set of alignment constants an additional alignment is performed with the Pixels, the SCT barrel and end-caps and the TRT barrel and end-caps treated as rigid bodies. The alignment algorithm returns small translations along the x-axis for the SCT and the TRT of up to 10 \u00b5m. The position of the pixel detector, treated as one solid object, is stable with respect to the beam spot position during the studied period. The observed translations can be related to sudden environmental changes, such as failures of the cooling system, power cuts or a ramp down of the muon spectrometer toroid.",
            "paragraph_rank": 14,
            "section_rank": 8
        },
        {
            "text": "Final remarks and Conclusion",
            "section_rank": 9
        },
        {
            "section": "Final remarks and Conclusion",
            "text": "Before concluding this article, we would like to summarize some important observations made during the commissioning of the ATLAS ID alignment algorithm:",
            "paragraph_rank": 15,
            "section_rank": 9
        },
        {
            "section": "Final remarks and Conclusion",
            "text": "\u2022 For the production as well as for the validation and cross-check of the alignment constants, the same data is processed several times, including track finding and track fitting. This is by far the most time consuming part in the overall alignment procedure. Track-based alignment imposes strong requirements on the selection of tracks, such as setting high p T thresholds in order to minimize multiple-scattering effects. With these stringent cuts, only a reduced set of tracks will be finally used in the alignment procedure. Introducing a reduced data format or set, which contains only the information required for the track-based alignment (i.e. only hits associated to high p T -tracks) the turnaround of the alignment production will improve considerably. Including hits in a wide road around the initially reconstructed track will prevent problems in cases of large initial misalignments and opens the opportunity to select different hits for different iterations of track finding. It was found that this reduced data format improves the production and the validation of the alignment considerably.",
            "paragraph_rank": 16,
            "section_rank": 9
        },
        {
            "section": "Final remarks and Conclusion",
            "text": "\u2022 The trigger during collisions is optimized to select tracks originating from the interaction point and events with tracks from cosmic ray events are rejected. For the track-based alignment of the ATLAS ID, tracks from cosmic rays events are of great importance, since they relate different parts of the detector together, i.e. the top and the bottom part of the detector. Determining alignment constants can be seen as inverting a matrix built as described by Eq. 2.1. Tracks with different track topologies, compared to tracks originating from the origin, populate off-diagonal elements of the matrix, leading to an improved condition of the matrix.",
            "paragraph_rank": 17,
            "section_rank": 9
        },
        {
            "section": "Final remarks and Conclusion",
            "text": "\u2022 The minimization of hit residuals as described by Eq. 2.1 is necessary for determining the correct position, but not sufficient. The algorithms used by the tracks based alignment center the residual distribution around zero, and for this reason the mean value of the residual distribution is not a good test to check the quality of the alignment. Similarly the width of the residual distribution can be similar to the expected distribution obtained with perfect geometry without being perfectly aligned. The shape of the residual distribution reflects only the correct implementation of the track-based alignment algorithm. To draw further conclusions about the quality of the alignment, additional observables, not based on hit residuals, are required. Typical observables are invariant mass distributions and their variation with respect to different regions of the detector. It is essential to focus on non-residual based observables at a very early stage and not get misled by centered residual distributions.",
            "paragraph_rank": 18,
            "section_rank": 9
        },
        {
            "text": "Conclusions",
            "section_rank": 10
        },
        {
            "section": "Conclusions",
            "text": "In this article, we discuss the track-based alignment of the Inner Detector of the ATLAS experiment. After briefly explaining the main principles of track-based alignment, we focus on improving the tracking performance by using additional information besides the standard hit-residual minimization. We present a method based on measuring the \u03c6 -variation of invariant mass distributions to correct for a possible tilt of the position-sensitive detectors with respect to the solenoidal field. A second technique uses the fact that the response of positively charged and negatively charged electrons in the calorimeter is identical while the momentum could deviate significantly due to residual misalignment effects. Both approaches improve the the tracking performance significantly, resulting in the ATLAS Inner Detector approaching closely its design performance already one year after first data taking.",
            "paragraph_rank": 19,
            "section_rank": 10
        },
        {
            "text": "Figure 1 .",
            "section_rank": 11
        },
        {
            "section": "Figure 1 .",
            "text": "Figure 1. The figure shows the barrel part of ID of the ATLAS experiment with the Pixel, SCT and TRT sub-detectors.",
            "paragraph_rank": 20,
            "section_rank": 11
        },
        {
            "text": "Figure 2 .",
            "section_rank": 12
        },
        {
            "section": "Figure 2 .",
            "text": "Figure 2. The figures represent the residual distribution compared to the expected residual distribution obtained from simulated events with perfect geometry. The left plot shows the residual distribution using Pixel barrel hits only, while the right one shows SCT barrel hits only.",
            "paragraph_rank": 21,
            "section_rank": 12
        },
        {
            "text": "Figure 3 .",
            "section_rank": 13
        },
        {
            "section": "Figure 3 .",
            "text": "Figure 3. The figures show the invariant J/\u03c8-mass as a function of the azimuthal angle \u03c6 for both end-caps. The left plot corresponds to the end-cap at positive Z, while the right plot corresponds to the end-cap at negative Z. The black points are obtained with a set of alignment constants prior to the rotation correction around the global x axis. The line is obtained by a sinusoidal fit to the data point. The blue points represent the J/\u03c8-mass as a function of \u03c6 after the rotation correction of 55 mrad.",
            "paragraph_rank": 22,
            "section_rank": 13
        },
        {
            "text": "Figure 4 .",
            "section_rank": 14
        },
        {
            "section": "Figure 4 .",
            "text": "Figure 4. The figure shows the improved width of the invariant mass distribution of the Z-boson determined with a set of alignment constants requesting identical E p -response for positively and negatively charged electrons. The distribution indicated by the black points are obtained with a set of alignment constants without E p -constraints, while the distribution with red points is obtained with a set of alignment constants with the E p -constraint implemented. The grey shaded area shows the expectation from simulated events using perfect geometry.",
            "paragraph_rank": 23,
            "section_rank": 14
        },
        {
            "section": "Figure 4 .",
            "text": "The coordinate system of ATLAS is a right-handed coordinate system with the x-axis pointing towards the centre of the LHC ring, and the z-axis along the tunnel. The y-axis is slightly tilted with respect to vertical due to the general tilt of the tunnel. The angle \u03c6 is defined in the xy-plane.",
            "paragraph_rank": 24,
            "section_rank": 14
        },
        {
            "section": "Figure 4 .",
            "text": "Sagitta distortions refer to systematic distortions of the geometry which transform helical into helical tracks, but bias the track parameters systematically.",
            "paragraph_rank": 25,
            "section_rank": 14
        },
        {
            "text": "Acknowledgments",
            "section_rank": 16
        },
        {
            "section": "Acknowledgments",
            "text": "This research was supported by the DFG cluster of excellence \"Origin and Structure of the Universe\" (www.universe-cluster.de).",
            "paragraph_rank": 26,
            "section_rank": 16
        }
    ]
}